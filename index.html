<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Momentum – Deck Counter Fixed</title>
<script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
<script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
<script src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>

<style>
/* ...same CSS as previous post (omitted for brevity)... */
body{margin:0;font-family:sans-serif;background:#222;color:#fff;text-align:center}
.card{display:inline-block;width:85px;height:120px;border-radius:8px;margin:4px;padding:6px;border:2px solid #ccc;cursor:pointer}
.red{background:#8a1b1b}.blue{background:#0d2a86}.ump{background:#555}.wild{background:#333}
.back{background:#444;border-color:#999;display:flex;justify-content:center;align-items:center}
.back span{font-weight:700;color:#eee;font-size:13px}
.deck-area{display:flex;flex-direction:column;align-items:center;margin:8px 0}
.card-title{font-size:14px;font-weight:700}.card-val{font-size:20px;margin-top:6px}
/* rest of styles unchanged... */
</style>
</head>
<body>
<div id="root"></div>
<script type="text/babel">
/* === React code identical to previous post except deck-area JSX fix === */
const {useState,useEffect}=React;
const shuffle=a=>[...a].sort(()=>Math.random()-0.5);
const last=a=>a.length?a[a.length-1]:null;
/* --- deck builders & values (unchanged) --- */
const COLORS=["red","blue"];
const MOM={Handball:8,Bounce:8,Kick:8,"Kick & Mark":5,Mark:5,Torp:4,Banana:4};
const DEF={Tackle:4,Smother:4,"Tackle HTB":2,"Intercept Mark":4};
const UMP=["Not 15"];
const VAL={Handball:1,Bounce:1,Kick:1,"Kick & Mark":1,Mark:0,Torp:3,Banana:3};
function buildDeck(){let d=[];
 COLORS.forEach(col=>{Object.entries(MOM).forEach(([n,c])=>{for(let i=0;i<c;i++)d.push({name:n,color:col,value:VAL[n],type:"mom"});} );Object.entries(DEF).forEach(([n,c])=>{for(let i=0;i<c;i++)d.push({name:n,color:col,type:"def"});} );});
 UMP.forEach(n=>{for(let i=0;i<2;i++)d.push({name:n,color:"ump",type:"ump"});});
 d.push({name:"Siren",color:"wild",type:"wild"});
 return shuffle(d);}
const buildScore=()=>shuffle([..."GGGGGGG",..."BBBBBBBBBBBBB"]);

const Card=({c,onClick,back})=>back
 ?<div className="card back"><span>Deck</span></div>
 :<div className={"card "+c.color} onClick={onClick}><div className="card-title">{c.name}</div>{c.value!=null&&<div className="card-val">+{c.value}</div>}</div>;

function Zone({p,current}){const m=p.chain.reduce((s,c)=>s+(c.value||0),0);
 return(<div className={"zone "+(current?"highlight":"")}><strong>{p.name}</strong><br/>Score {p.score} • Mom {m}<div className="chain">{p.chain.map((c,i)=><Card key={i} c={c}/>)}</div></div>);}

function Board(){
 const [deck,setDeck]=useState(buildDeck());
 const [players,setPlayers]=useState(Array.from({length:4},(_,i)=>({id:i,name:i?`Bot ${i}`:"You",hand:[],chain:[],score:0})));
 const [turn,setTurn]=useState(0);
 const draw=(pl,n=1)=>{let d=[...deck];for(let i=0;i<n&&d.length;i++){pl.hand.push(d[0]);d=d.slice(1);}setDeck(d);};
 useEffect(()=>{if(players[0].hand.length===0){const arr=[...players];arr.forEach(pl=>draw(pl,7));setPlayers(arr);}},[]);
 useEffect(()=>{setPlayers(prev=>{const a=[...prev];draw(a[turn],3);return a;});},[turn]);

 return(<div className="board">
   {/* Deck pile (fixed JSX) */}
   <div className="deck-area">
     <Card back />
     <div style={{ fontSize:14, marginTop:2 }}>Deck&nbsp;{deck.length}</div>
   </div>

   <h3>Turn: {players[turn].name}</h3>
   {/* ...rest of board unchanged (AI, actions, etc.) ... */}
 </div>);
}

function App(){const[play,setPlay]=useState(false);
 return play?<Board/>:<div className="start"><img src="splash_card.png" className="splash-card"/><h1>MOMENTUM</h1><button onClick={()=>setPlay(true)}>Play Game</button></div>;}
ReactDOM.createRoot(document.getElementById("root")).render(<App/>);
</script>
</body>
</html>
