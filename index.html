
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Momentum – The Aussie Rules Card Game</title>
  <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
  <script crossorigin src="https://unpkg.com/babel-standalone@6/babel.min.js"></script>
  <style>
    body {
      margin: 0;
      font-family: sans-serif;
      background-color: #f9f6ee;
    }
  </style>
</head>
<body>
  <div id="root"></div>
  <script type="text/babel">

    const COLOURS = ["Red", "Blue"];
    const VALUES = { Handball:1, Bounce:1, Kick:1, "Kick & Mark":1, Mark:0, Torp:3, Banana:3 };
    const DEFENCE = ["Tackle","Smother","Tackle — HTB","Intercept Mark"];
    const PER_COLOUR = {Handball:8,Bounce:8, Kick:8, "Kick & Mark":5, Mark:5, Torp:4, Banana:4,
      Tackle:3, Smother:3, "Tackle — HTB":3, "Intercept Mark":4};
    const shuffle=a=>[...a].sort(()=>Math.random()-0.5);
    const buildScoreDeck=()=>shuffle([ ...Array(7).fill("Goal"), ...Array(13).fill("Behind") ]);
    function buildDeck(){ const d=[]; for(const col of COLOURS){Object.entries(PER_COLOUR).forEach(([n,c])=>{for(let i=0;i<c;i++)d.push({name:n,colour:col,type:DEFENCE.includes(n)?"def":"mom"});});} d.push({name:"Siren",type:"wild"}); return shuffle(d);}  

    function MomentumApp() {
      const [showStart,setShowStart] = React.useState(true);
      const [deck,setDeck] = React.useState([]);
      const [scorePile,setScorePile] = React.useState([]);
      const [players,setPlayers] = React.useState([]);
      const [turn,setTurn] = React.useState(0);
      const [quarter,setQuarter] = React.useState(1);
      const [roundDefence,setRoundDef] = React.useState(false);
      const [scoreCardsDrawn,setScoreCards] = React.useState(0);
      const [log,setLog] = React.useState([]);
      const audioRef = React.useRef(null);

      const initGame = () => {
        setDeck(buildDeck());
        setScorePile(buildScoreDeck());
        setPlayers(Array.from({length:4},(_,i)=>({id:i,human:i===0,hand:[],chain:[],momentum:0,colourLock:null,score:0,actions:3})));
        setTurn(0); setQuarter(1); setRoundDef(false); setScoreCards(0); setLog(["Game started!"]);  setShowStart(false);
        if (audioRef.current) audioRef.current.pause();
      };

      if(showStart){
        return (
          <div style={{height:"100vh",display:"flex",flexDirection:"column",justifyContent:"center",alignItems:"center",background:"#f9f6ee"}} onClick={() => audioRef.current?.play()}> 
            <audio ref={audioRef} loop>
              <source src="https://files.freemusicarchive.org/storage-freemusicarchive-org/music/no_curator/kevin_macleod/machinima-sound/kevin_macleod_-_march_of_the_brave.mp3" type="audio/mpeg" />
            </audio>
            <div style={{textAlign:"center"}}>
              <h1 style={{fontSize:"3rem",fontFamily:"Impact, sans-serif",color:"#b41d24",textShadow:"2px 2px 0 #043b6c"}}>MOMENTUM</h1>
              <p style={{marginTop:-10,letterSpacing:2,color:"#043b6c"}}>The Aussie Rules Card Game</p>
            </div>
            <button onClick={initGame} style={{marginTop:32,padding:"12px 28px",fontSize:"1.1rem",fontWeight:600,color:"#fff",background:"linear-gradient(90deg,#b41d24 0%,#b41d24 50%,#043b6c 50%,#043b6c 100%)",border:"none",borderRadius:8,cursor:"pointer",boxShadow:"0 4px 6px rgba(0,0,0,.2)"}}>Play Game</button>
          </div>
        );
      }

      return (
        <div style={{padding:"20px"}}><h2>Game In Progress</h2><p>This is where the full game UI will load...</p></div>
      );
    }

    ReactDOM.createRoot(document.getElementById('root')).render(<MomentumApp />);
  </script>
</body>
</html>
